<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <title>CoreTrex - Clients</title>
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;700;800&display=swap" rel="stylesheet" />
    <link rel="stylesheet" href="style.css" />
    <link rel="stylesheet" href="clients.css" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
    <script>
        // Authentication check - redirect to login if not logged in
        if (!localStorage.getItem('isLoggedIn') || localStorage.getItem('isLoggedIn') !== 'true') {
            window.location.href = '/';
        }
    </script>
</head>
<body>
    <div class="page-content">
        <h1>Clients Dashboard</h1>
        
        <!-- Stats Container -->
        <div class="stats-container">
            <div class="stat">
                <div class="stat-number" id="pod1Count">0</div>
                <div class="stat-label">Pod 1 Clients</div>
            </div>
            <div class="stat">
                <div class="stat-number" id="pod2Count">0</div>
                <div class="stat-label">Pod 2 Clients</div>
            </div>
            <div class="stat">
                <div class="stat-number" id="pod3Count">0</div>
                <div class="stat-label">Pod 3 Clients</div>
            </div>
            <div class="stat">
                <div class="stat-number" id="pod1AvgContact">0</div>
                <div class="stat-label">Pod 1 Avg Days Since Contact</div>
            </div>
            <div class="stat">
                <div class="stat-number" id="pod2AvgContact">0</div>
                <div class="stat-label">Pod 2 Avg Days Since Contact</div>
            </div>
            <div class="stat">
                <div class="stat-number" id="pod3AvgContact">0</div>
                <div class="stat-label">Pod 3 Avg Days Since Contact</div>
            </div>
        </div>

        <div class="clients-container">
            <!-- Input Section -->
            <div class="input-section">
                <input type="text" id="brandName" placeholder="Brand Name" class="input-field" />
                <select id="teamResponsible" class="input-field dropdown">
                    <option value="Pod 1">Pod 1</option>
                    <option value="Pod 2">Pod 2</option>
                    <option value="Pod 3">Pod 3</option>
                </select>
                <select id="relationshipStatus" class="input-field dropdown">
                    <option value="Poor">Poor</option>
                    <option value="Medium">Medium</option>
                    <option value="Strong">Strong</option>
                    <option value="Terminated">Terminated</option>
                </select>
                <select id="currentSensitivity" class="input-field dropdown">
                    <option value="Poor Profit">Poor Profit</option>
                    <option value="Stagnant Sales">Stagnant Sales</option>
                    <option value="Lack of Clarity">Lack of Clarity</option>
                    <option value="CoreTrex Cost">CoreTrex Cost</option>
                    <option value="Lack of Trust">Lack of Trust</option>
                </select>
                <input type="text" id="correctiveAction" placeholder="Corrective Action" class="input-field" />
                <div class="input-field-group">
                    <label for="dueBy">Last Contact</label>
                    <input type="date" id="dueBy" class="input-field date-picker" />
                </div>
                <input type="number" step="0.01" id="trailing30Revenue" placeholder="30 Day Revenue ($)" class="input-field" />
                <input type="number" step="0.01" id="yoyPercentage" placeholder="YoY %" class="input-field" />
                <div class="input-field-group">
                    <label for="nextMeetingDate">Next Meeting</label>
                    <input type="date" id="nextMeetingDate" class="input-field date-picker" />
                </div>
                <button id="addClientBtn" class="add-btn">Add Client</button>
            </div>

            <!-- Clients Table -->
            <table class="dashboard-table" id="clientsTable">
                <thead>
                    <tr>
                        <th>Brand Name</th>
                        <th class="hide-column">Team</th>
                        <th>Relationship</th>
                        <th>Sensitivity</th>
                        <th>Corrective Action</th>
                        <th>Last Contact</th>
                        <th>30 Day Revenue</th>
                        <th>YoY %</th>
                        <th>Next Meeting</th>
                        <th>Actions</th>
                    </tr>
                </thead>
                <tbody></tbody>
            </table>
        </div>
    </div>
    <!-- Navigation -->
    <nav-menu></nav-menu>
    <script src="navigation.js"></script>
    <script type="module" src="clients.js"></script>

    <!-- Section Timer Modal -->
    <div id="sectionTimerModal" class="modal section-timer-modal" style="display:none;">
        <div class="modal-content section-timer-content">
            <span class="close" id="closeSectionTimerModal">&times;</span>
            <div class="section-timer-header">
                <h2>Section Timer</h2>
                <div class="section-progress">
                    <div class="progress-bar">
                        <div id="sectionProgress" class="progress-fill"></div>
                    </div>
                    <span class="progress-text">Section <span id="currentSectionNumber">1</span> of 5</span>
                </div>
                <div class="minimized-summary" style="display:none;">
                    <div class="summary-section">
                        <span id="summarySectionName">Lead Gen</span>
                    </div>
                    <div class="summary-time">
                        <span id="summaryTimeDisplay">01:00</span>
                    </div>
                </div>
            </div>
            <div class="section-timer-body">
                <div class="current-section">
                    <h3 id="currentSectionName">Lead Gen</h3>
                    <div id="sectionTimeDisplay" class="section-time-display">01:00</div>
                </div>
                <div class="section-timer-controls">
                    <button id="startSectionBtn" class="section-btn start-btn">
                        <i class="fas fa-play"></i> Start
                    </button>
                    <button id="stopSectionBtn" class="section-btn stop-btn" style="display:none;">
                        <i class="fas fa-stop"></i> Stop
                    </button>
                        <button id="skipSectionBtn" class="section-btn skip-btn" disabled>
                            <i class="fas fa-forward"></i> Next
                        </button>
                </div>
                <div class="section-list">
                    <h4>Agenda:</h4>
                    <ul id="sectionList">
                        <li class="section-item" data-section="0">Lead Gen (1:00)</li>
                        <li class="section-item" data-section="1">Prospects (2:00)</li>
                        <li class="section-item" data-section="2">Pod 1 (3:00)</li>
                        <li class="section-item" data-section="3">Pod 2 (3:00)</li>
                        <li class="section-item" data-section="4">Pod 3 (1:30)</li>
                    </ul>
                </div>
            </div>
            <!-- Reset button as floating icon -->
            <button id="resetSectionBtn" class="reset-icon-btn">
                <i class="fas fa-redo"></i>
            </button>
            <!-- Minimize button -->
            <button id="minimizeBtn" class="minimize-btn">
                <i class="fas fa-minus"></i>
            </button>
        </div>
    </div>
    
    <!-- Floating Start Timer Button -->
    <button id="floatingStartTimerBtn" class="floating-start-timer-btn">
        <i class="fas fa-play"></i>
        <span>Start Timer</span>
    </button>

    <script src="timer.js"></script>
</body>
</html> 